# Какая будет архитектура системы?

* Статус: предложенный
* Кто принимал решение: Проектный офис

## Контекст и постановка проблемы

Архитектура программного решения выполняет ряд важных задач:
- определяет структуру программы и позволяет понять, как она устроена, на каких уровнях выполняются те или иные задачи и функции;
- определяет поведение и взаимодействие элементов, благодаря чему становится понятно, что происходит, если выполняется определенное действие;
- определяет значимые и второстепенные элементы, что позволяет оценить стоимость разработки, понять, какие элементы обязательно внедрять, а от каких можно отказаться в пользу экономического соображения;
- помогает понять, насколько программа масштабируемая, как сложно будет внедрять новые функции и какой стек технологий использовать;
- позволяет удовлетворить потребности клиента и адаптировать программу под взаимоисключающие требования, например, высокий уровень функциональности и определение границ времени, в таком случае становится понятно, как это реализовать;
- позволяет понять логические взаимосвязи в программе;
- дает возможность корректно вести документацию и четко расписывать функционал, что существенно упрощает дальнейшее обслуживание программы, внесение изменений и работу с существующим функционалом.

## Драйверы решений

* Переиспользование лучших практик проектирования
* Нужна понятная структура проекта

## Рассматриваемые варианты

* Монолитная архитектура
* Сервис-ориентированная архитектура
* Микросервисная архитектура

## Решение

Выбиран вариант Сервис-ориентированная архитектура, потому что она позволяет масштабировать отдельные сервисы, микросервисная архитектура не подходит из за необходимости создавать большее количество независимых микросервисов. Монолитная архитектура не подошла из за ограниченной масштабируемости.

## Плюсы и минусы вариантов

### Монолитная архитектура

Технический подход к созданию приложения с единой базой кода с несколькими модулями.

* Хорошая, потому что позволяет делать end-to-end тестирование всего сервиса просто
* Хорошая, потому что не имеет потребности во взаимодействии компонентов по API (самое быстрое взаимодействие)
* Хорошая, потому что подходит для небольших команд разработки
* Плохая, потому что не подходит для больших команд разработки
* Плохая, потому что при большой кодовой базе увеличение времени компиляции проекта
* Плохая, потому что плохо масштабируется

### Сервис-ориентированная архитектура

Модульный подход к разработке программного обеспечения, базирующийся на обеспечении удаленного по стандартизированным протоколам использования распределённых, слабо связанных легко заменяемых компонентов (сервисов) со стандартизированными интерфейсами.

* Хорошая, потому что легко масштабируется
* Хорошая, потому что подходит для больших команд
* Хорошая, потому что возможность писать на разных языках
* Плохая, потому что требует взаимодействие сервисов через сеть

### Микросервисная архитектура

Вариант сервис-ориентированной архитектуры программного обеспечения, направленный на взаимодействие насколько это возможно небольших, слабо связанных и легко изменяемых модулей — микросервисов.

* Хорошая, потому что легко масштабируется
* Хорошая, потому что подходит для очень больших команд
* Хорошая, потому что возможность писать на разных языках
* Плохая, потому что требует взаимодействие сервисов через сеть
* Плохая, потому что требует сильного декомпозирования микросервисов

## Ссылки

* https://proglib.io/p/po-stopam-luchshih-mikroservisnaya-arhitektura-v-razreze-2019-11-07
* https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0
* https://ru.wikipedia.org/wiki/%D0%9C%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BD%D0%B0%D1%8F_%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0